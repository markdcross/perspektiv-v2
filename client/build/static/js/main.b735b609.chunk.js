(this.webpackJsonpmaperino=this.webpackJsonpmaperino||[]).push([[0],{255:function(e,t,a){},256:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a(0),n=a.n(s),r=a(28),i=a.n(r),l=a(20),o=a(22),j=a(29),d=n.a.createContext({}),u=n.a.createContext({}),b=a(9),h=function(e,t){switch(t.type){case"directions/plotpoints":return Object(b.a)(Object(b.a)({},e),{},{directions:t.payload});default:return e}},O=function(e){var t=Object(s.useReducer)(h,{directions:[],error:null}),a=Object(l.a)(t,2),n=a[0],r=a[1];return Object(c.jsx)(u.Provider,{value:{directions:n.directions,plotCall:function(e){console.log("directions/plotpoints"),r({type:"directions/plotpoints",payload:e})}},children:e.children})},x=a(33),m=a.n(x),p=a(49),f=n.a.createContext({}),g=function(e,t){switch(t.type){case"murals/all":return Object(b.a)(Object(b.a)({},e),{},{muralState:t.payload});case"murals/single":return Object(b.a)(Object(b.a)({},e),{},{muralVisits:t.payload});case"murals/ID":return Object(b.a)(Object(b.a)({},e),{},{muralVisitsID:t.payload});case"load_error":return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});default:return e}},v=a(14),y=a.n(v),N=function(){return y.a.get("/api/v1/murals")},w=function(e){return y.a.get("/api/v1/murals/".concat(e))},k=function(e,t){return y.a.put("/api/v1/murals/visit/".concat(e,"/").concat(t))},C=function(e,t){return y.a.put("/api/v1/murals/unvisit/".concat(e,"/").concat(t))},S=function(e){return y.a.get("/api/v1/murals/".concat(e,"/posts"))},T=function(e){var t=Object(s.useReducer)(g,{muralState:[],muralVisits:null,muralVisitsID:null,error:null}),a=Object(l.a)(t,2),n=a[0],r=a[1],i=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{N().then((function(e){r({type:"murals/all",payload:e})}))}catch(t){r({type:"load_error"})}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)(f.Provider,{value:{muralState:n.muralState,muralVisits:n.muralVisits,muralVisitsID:n.muralVisitsID,loadMurals:i},children:e.children})},I=Object(s.createContext)(),E="REGISTER_SUCCESS",R="REGISTER_FAIL",P="USER_LOADED",M="AUTH_ERROR",F="LOGIN_SUCCESS",A="LOGIN_FAIL",D="LOGOUT",L="CLEAR_ERRORS",V="SET_ALERT",U="REMOVE_ALERT",z=function(e,t){switch(t.type){case P:return Object(b.a)(Object(b.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case E:case F:return localStorage.setItem("token",t.payload.token),Object(b.a)(Object(b.a)(Object(b.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case R:case A:case M:case D:return localStorage.removeItem("token"),Object(b.a)(Object(b.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case L:return Object(b.a)(Object(b.a)({},e),{},{error:null});default:return e}},B=function(e){e?y.a.defaults.headers.common["x-auth-token"]=e:delete y.a.defaults.headers.common["x-auth-token"]},G=function(e){var t={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,error:null},a=Object(s.useReducer)(z,t),n=Object(l.a)(a,2),r=n[0],i=n[1],o=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&B(localStorage.token),e.prev=1,e.next=4,y.a.get("/api/v1/auth/me");case 4:t=e.sent,i({type:P,payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:M});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,y.a.post("/api/v1/auth/register",t,a);case 4:c=e.sent,i({type:E,payload:c.data}),o(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:R,payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(p.a)(m.a.mark((function e(t){var a,c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,y.a.post("/api/v1/auth/login",t,a);case 4:c=e.sent,i({type:F,payload:c.data}),o(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),i({type:A,payload:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(I.Provider,{value:{token:r.token,isAuthenticated:r.isAuthenticated,loading:r.loading,user:r.user,error:r.error,register:j,loadUser:o,login:d,logout:function(){console.log("logout user"),y.a.get("/api/v1/auth/logout"),i({type:D})},clearErrors:function(){console.log("clear errors"),i({type:L})}},children:e.children})},W=Object(s.createContext)(),_=a(180),H=function(e,t){switch(t.type){case V:return[].concat(Object(_.a)(e),[t.payload]);case U:return e.filter((function(e){return e.id!==t.payload}));default:return e}},J=a(283),X=function(e){var t=Object(s.useReducer)(H,[]),a=Object(l.a)(t,2),n=a[0],r=a[1];return Object(c.jsx)(W.Provider,{value:{alerts:n,setAlert:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4e3,c=Object(J.a)();r({type:V,payload:{msg:e,type:t,id:c}}),setTimeout((function(){return r({type:U,payload:c})}),a)}},children:e.children})},Q=a(274),q=a(174),Z=a(97),Y=a(179);function K(e){return Object(c.jsx)(Z.a,{redraw:function(t){var a=t.width,c=t.height,s=t.ctx,n=t.isDragging,r=t.project,i=(t.unproject,e.points),l=e.color,o=void 0===l?"goldenrod":l,j=e.lineWidth,d=void 0===j?3:j,u=e.renderWhileDragging,b=void 0===u||u;s.clearRect(0,0,a,c),s.globalCompositeOperation="lighter",!b&&n||!i||(s.lineWidth=d,s.strokeStyle=o,s.beginPath(),i.forEach((function(e){var t=r([e[0],e[1]]);s.lineTo(t[0],t[1])})),s.stroke())}.bind(this)})}var $=a(273),ee=(a(223),a(113));function te(){var e=Object(s.useContext)(u).directions,t=Object(s.useContext)(d),a=t.latitude,n=t.longitude,r=Object(s.useContext)(f).muralState,i=Object(s.useState)({latitude:37.54129,longitude:-77.434769,zoom:12}),j=Object(l.a)(i,2),h=j[0],O=j[1];return Object(c.jsx)(Y.a,{children:function(t){var s=t.height,i=t.width;return Object(c.jsxs)(Z.c,Object(b.a)(Object(b.a)({},h),{},{width:i,height:s,mapboxApiAccessToken:"pk.eyJ1IjoiYmVydG9kZW11cyIsImEiOiJja2s1c2gxbmoxdmppMnFxajl5NmRtZWo1In0._dI0T1Pb9P61W4AasZYUDQ",mapStyle:"mapbox://styles/bertodemus/ckkvdq41s255c17phfrsay0t1",onViewportChange:function(e){O(e)},children:[r.data?Object(c.jsx)("div",{children:r.data.data.map((function(e){return Object(c.jsx)("div",{children:Object(c.jsx)(Z.b,{latitude:e.location.coordinates[1],longitude:e.location.coordinates[0],className:"markerZ",children:Object(c.jsx)("button",{className:"marker-btn zoom",onClick:function(e){e.preventDefault()},children:Object(c.jsx)(o.b,{to:"/murals/"+e.id,children:Object(c.jsx)("div",{className:"rounder",children:Object(c.jsx)($.a,{src:"../../muralImagesRound/ROUND_".concat(e.imageFile.toLowerCase()),roundedCircle:!0})})})})},e.id)},e.id)}))}):Object(c.jsx)("div",{children:"Loading..."}),a&&Object(c.jsx)(Z.b,{latitude:a,longitude:n,children:Object(c.jsx)($.a,{src:"/assets/images/logo/PinDrip3.png",width:"25px"})}),Object(c.jsx)(K,{points:e})]}))}})}a.n(ee).a.workerClass=a(224).default;var ae=a(84),ce=a(281),se=a(276),ne=n.a.createContext({}),re=a(57),ie=a.n(re),le=a(278),oe=a(275),je=a(280),de=a(284),ue=a(279);function be(e){return Object(c.jsxs)(ue.a,Object(b.a)(Object(b.a)({},e),{},{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(ue.a.Header,{children:Object(c.jsx)(ue.a.Title,{id:"contained-modal-title-vcenter",className:"text-center mx-auto",children:Object(c.jsx)("p",{children:"You Leveled Up!!"})})}),Object(c.jsxs)(ue.a.Body,{className:"text-center",children:[Object(c.jsx)($.a,{src:"../../assets/images/gif/LevelUpScript.gif",alt:"spinning gif",width:200}),Object(c.jsxs)("p",{children:["You have achieved the rank of ",e.title,"!! You now need ",e.xp," murals to get to the next level! Good luck and good hunting!!"]})]}),Object(c.jsx)(ue.a.Footer,{})]}))}function he(e){var t=Object(s.useContext)(ne),a=t.progressControl,r=t.boostState,i=t.modalShow,l=t.modalDrop,o=t.modalPop,j=t.hitTen,d=t.hitTwenty,u=t.hitThirty,b=t.hitFifty,h=t.hitEighty,O=t.hitOneTen,x=t.hitOneFifty,m=t.hitOneSixtyTwo,p=t.markTen,f=t.markTwenty,g=t.markThirty,v=t.markFifty,y=t.markEighty,N=t.markOneTen,w=t.markOneFifty,k=t.markOneSixtyTwo,C=e.userAvatar,S=e.userVisited,T=e.userRank,E=e.userLevel,R=e.userXPMin,P=e.userXP,M=Object(s.useContext)(I).isAuthenticated;return Object(s.useEffect)((function(){10!==S||j?20!==S||d?30!==S||u?50!==S||b?80!==S||h?110!==S||O?150!==S||x?162!==S||m||(o(),k()):(o(),w()):(o(),N()):(o(),y()):(o(),v()):(o(),g()):(o(),f()):(o(),p())}),[S]),Object(c.jsx)(n.a.Fragment,{children:M?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Q.a,{className:"respLogin",children:Object(c.jsxs)(q.a,{className:"d-flex justify-content-center my-2",children:[Object(c.jsx)(ie.a,{image:C,roundedColor:"#ffffff",roundedSize:"2",imageWidth:"100",imageHeight:"100"}),Object(c.jsxs)(je.a,{className:"achievementMark my-auto ml-1",color:"yellow",children:[Object(c.jsx)("p",{children:T[E+r]}),Object(c.jsx)("div",{className:"achievementMarkCount",children:Object(c.jsx)("p",{className:"achievementMarkText",children:S})})]})]})}),Object(c.jsxs)(Q.a,{className:"pb-2",children:[Object(c.jsx)(q.a,{children:Object(c.jsx)(de.a,{success:!1,disabled:!1,progress:"value",value:(S-R[E])*a,total:P[E],active:!0,color:"pink",size:"small",className:"mt-1"})}),Object(c.jsx)(q.a,{xs:1,className:"text-left pl-0",children:Object(c.jsx)(le.a,{placement:"top",overlay:Object(c.jsx)(oe.a,{id:"tooltip-top",children:"Visits needed for next rank!"}),children:Object(c.jsx)("div",{className:"xpMarkCount",children:Object(c.jsx)("p",{className:"xpMarkText",children:P[E+r]})})})})]}),Object(c.jsx)(be,{show:i,onHide:function(){return l()},title:T[E+r],xp:P[E+r]})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Q.a,{className:"respLogin",children:Object(c.jsxs)(q.a,{className:"d-flex justify-content-center my-2",children:[Object(c.jsx)(ie.a,{image:"/assets/images/avatars/matthew.png",roundedColor:"#ffffff",roundedSize:"2",imageWidth:"100",imageHeight:"100"}),Object(c.jsxs)(je.a,{className:"achievementMark my-auto ml-1",color:"yellow",children:[Object(c.jsx)("p",{children:T[8]}),Object(c.jsx)("div",{className:"achievementMarkCount",children:Object(c.jsx)("p",{className:"achievementMarkText",children:"0"})})]})]})}),Object(c.jsx)(Q.a,{className:"pb-2",children:Object(c.jsx)(q.a,{children:Object(c.jsx)(de.a,{success:!1,disabled:!0,progress:"value",value:0,total:0,active:!0,color:"pink",size:"small"})})})]})})}var Oe=function(){var e=Object(s.useContext)(I).logout,t=Object(j.f)();return Object(c.jsx)(q.a,{className:"text-right pt-2",children:Object(c.jsx)(o.b,{onClick:function(){t.push("/"),e()},to:"/",children:Object(c.jsx)(je.a,{content:"LOGOUT",basic:!0})})})};function xe(e){var t=Object(s.useContext)(ne),a=t.progressControl,n=t.boostState,r=t.modalShow,i=t.modalDrop,l=t.modalPop,j=t.hitTen,d=t.hitTwenty,u=t.hitThirty,b=t.hitFifty,h=t.hitEighty,O=t.hitOneTen,x=t.hitOneFifty,m=t.hitOneSixtyTwo,p=t.markTen,f=t.markTwenty,g=t.markThirty,v=t.markFifty,y=t.markEighty,N=t.markOneTen,w=t.markOneFifty,k=t.markOneSixtyTwo,C=e.userAvatar,S=e.userVisited,T=e.userRank,E=e.userLevel,R=e.userXPMin,P=e.userXP,M=Object(s.useContext)(I).isAuthenticated;return Object(s.useEffect)((function(){10!==S||j?20!==S||d?30!==S||u?50!==S||b?80!==S||h?110!==S||O?150!==S||x?162!==S||m||(l(),k()):(l(),w()):(l(),N()):(l(),y()):(l(),v()):(l(),g()):(l(),f()):(l(),p())}),[S]),Object(c.jsx)(c.Fragment,{children:M?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(Q.a,{className:"fbNav",children:[Object(c.jsx)(q.a,{className:"pt-2",children:Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)($.a,{className:"w-100",src:"/assets/images/logo/plogo.png"})})}),Object(c.jsx)(q.a,{className:"my-2 respLoginBreakDN fluid",children:Object(c.jsxs)(je.a,{className:"achievementMark px-6 w-100 clearfix",color:"yellow",children:[Object(c.jsx)("p",{children:T[E+n]}),Object(c.jsx)("div",{className:"achievementMarkCountDN",children:Object(c.jsx)("p",{className:"achievementMarkTextDN",children:S})}),Object(c.jsx)("div",{className:"achievementMarkAvatarDN",children:Object(c.jsx)(ie.a,{image:C,roundedColor:"#ffffff",roundedSize:"0",imageWidth:"40",imageHeight:"40"})})]})}),Object(c.jsx)(Oe,{})]}),Object(c.jsxs)(Q.a,{className:"pt-2 ",children:[Object(c.jsx)(q.a,{children:Object(c.jsx)(de.a,{success:!1,disabled:!1,progress:"value",value:(S-R[E])*a,total:P[E],active:!0,color:"pink",size:"small",className:"mt-1"})}),Object(c.jsx)(q.a,{xs:1,className:"text-left pl-0",children:Object(c.jsx)(le.a,{placement:"top",overlay:Object(c.jsx)(oe.a,{id:"tooltip-top",children:"Visits needed for next rank!"}),children:Object(c.jsx)("div",{className:"xpMarkCount",children:Object(c.jsx)("p",{className:"xpMarkText",children:P[E+n]})})})})]}),Object(c.jsx)(be,{show:r,onHide:function(){return i()},title:T[E+n],xp:P[E+n]})]}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(Q.a,{className:"fbNav",children:[Object(c.jsx)(q.a,{className:"pt-2",children:Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)($.a,{className:"w-100",src:"/assets/images/logo/plogo.png"})})}),Object(c.jsx)(q.a,{className:"my-2 respLoginBreakDN fluid",children:Object(c.jsxs)(je.a,{className:"achievementMark px-6 w-100 clearfix",color:"yellow",children:[Object(c.jsx)("p",{children:T[8]}),Object(c.jsx)("div",{className:"achievementMarkCountDN",children:Object(c.jsx)("p",{className:"achievementMarkTextDN",children:"0"})}),Object(c.jsx)("div",{className:"achievementMarkAvatarDN",children:Object(c.jsx)(ie.a,{image:"/assets/images/avatars/matthew.png",roundedColor:"#ffffff",roundedSize:"0",imageWidth:"40",imageHeight:"40"})})]})}),Object(c.jsx)(q.a,{className:"text-right pt-2",children:Object(c.jsx)(o.b,{to:"/login",children:Object(c.jsx)(je.a,{content:"LOGIN",basic:!0})})})]}),Object(c.jsx)(Q.a,{className:"pt-2 ",children:Object(c.jsx)(q.a,{children:Object(c.jsx)(de.a,{success:!1,disabled:!0,progress:"value",value:0,total:0,active:!0,color:"pink",size:"small"})})})]})})}function me(e){var t=Object(s.useContext)(ne),a=t.progressControl,n=t.boostState,r=t.modalShow,i=t.modalDrop,l=t.modalPop,j=t.hitTen,d=t.hitTwenty,u=t.hitThirty,b=t.hitFifty,h=t.hitEighty,O=t.hitOneTen,x=t.hitOneFifty,m=t.hitOneSixtyTwo,p=t.markTen,f=t.markTwenty,g=t.markThirty,v=t.markFifty,y=t.markEighty,N=t.markOneTen,w=t.markOneFifty,k=t.markOneSixtyTwo,C=e.userAvatar,S=e.userVisited,T=e.userRank,E=e.userLevel,R=e.userXPMin,P=e.userXP,M=Object(s.useContext)(I).isAuthenticated;return Object(s.useEffect)((function(){10!==S||j?20!==S||d?30!==S||u?50!==S||b?80!==S||h?110!==S||O?150!==S||x?162!==S||m||(l(),k()):(l(),w()):(l(),N()):(l(),y()):(l(),v()):(l(),g()):(l(),f()):(l(),p())}),[S]),Object(c.jsx)(c.Fragment,{children:M?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(Q.a,{className:"fixed-bottom fbNav pb-1",children:Object(c.jsxs)(q.a,{children:[Object(c.jsxs)(Q.a,{children:[Object(c.jsx)(q.a,{className:"pt-3 pr-0",children:Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)($.a,{className:"w-100",src:"/assets/images/logo/plogo.png"})})}),Object(c.jsx)(q.a,{xs:5,className:"my-2 respLoginBreak fluid pl-2 pr-0",children:Object(c.jsxs)(je.a,{className:"achievementMark px-6 w-100 clearfix",color:"yellow",children:[Object(c.jsx)("p",{children:T[E+n]}),Object(c.jsx)("div",{className:"achievementMarkCount",children:Object(c.jsx)("p",{className:"achievementMarkText",children:S})}),Object(c.jsx)("div",{className:"achievementMarkAvatar",children:Object(c.jsx)(ie.a,{image:C,roundedColor:"#ffffff",roundedSize:"0",imageWidth:"40",imageHeight:"40"})})]})}),Object(c.jsx)(Oe,{})]}),Object(c.jsxs)(Q.a,{className:"pt-2 ",children:[Object(c.jsx)(q.a,{children:Object(c.jsx)(de.a,{success:!1,disabled:!1,progress:"value",value:(S-R[E])*a,total:P[E],active:!0,color:"pink",size:"small",className:"ml-2 mr-2"})}),Object(c.jsx)(q.a,{xs:1,className:"text-left pl-0",children:Object(c.jsx)(le.a,{placement:"top",overlay:Object(c.jsx)(oe.a,{id:"tooltip-top",children:"Visits needed for next rank!"}),children:Object(c.jsx)("div",{className:"xpMarkCount",children:Object(c.jsx)("p",{className:"xpMarkText",children:P[E+n]})})})})]})]})}),Object(c.jsx)(be,{show:r,onHide:function(){return i()},title:T[E+n],xp:P[E+n]})]}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(Q.a,{className:"fixed-bottom fbNav pb-1",children:Object(c.jsxs)(q.a,{children:[Object(c.jsxs)(Q.a,{children:[Object(c.jsx)(q.a,{className:"pt-3 pr-0",children:Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)($.a,{className:"w-100",src:"/assets/images/logo/plogo.png"})})}),Object(c.jsx)(q.a,{xs:5,className:"my-2 respLoginBreak fluid pl-2 pr-0",children:Object(c.jsxs)(je.a,{className:"achievementMark px-6 w-100 clearfix",color:"yellow",children:[Object(c.jsx)("p",{children:T[8]}),Object(c.jsx)("div",{className:"achievementMarkCount",children:Object(c.jsx)("p",{className:"achievementMarkText",children:"0"})}),Object(c.jsx)("div",{className:"achievementMarkAvatar",children:Object(c.jsx)(ie.a,{image:"/assets/images/avatars/matthew.png",roundedColor:"#ffffff",roundedSize:"0",imageWidth:"40",imageHeight:"40"})})]})}),Object(c.jsx)(q.a,{className:"text-center pt-2",children:Object(c.jsx)(o.b,{to:"/login",children:Object(c.jsx)(je.a,{content:"LOGIN",basic:!0})})})]}),Object(c.jsx)(Q.a,{className:"pt-2 ",children:Object(c.jsx)(q.a,{children:Object(c.jsx)(de.a,{success:!1,disabled:!0,progress:"value",value:0,total:0,active:!0,color:"pink",size:"small",className:"ml-2 mr-2"})})})]})})})})}function pe(e){var t=Object(s.useContext)(ne),a=t.loadUserMurals,n=t.userMurals;Object(s.useEffect)((function(){a()}),[]);var r,i=null,l=null,o=null,j=["Pioneer","Scout","Art Sleuth","RVA Local","Trailblazer","Never Home","Mural Elite","Mural Lorax","Tourist"],d=[10,10,10,20,30,30,40,12,0],u=[0,10,20,30,50,80,110,150,0];if(n){i=(r=n.data.muralsVisited.length)>=0&&r<10?0:r>=10&&r<20?1:r>=20&&r<30?2:r>=30&&r<50?3:r>=50&&r<80?4:r>=80&&r<110?5:r>=110&&r<150?6:r>=150&&r<=162?7:8,l=n.data.avatar,o=n.data.muralsVisited.length}return Object(c.jsx)(c.Fragment,{children:"mobile"===e.nav?Object(c.jsx)(me,{userVisited:o,userAvatar:l,userRank:j,userLevel:i,userXPMin:u,userXP:d}):"desktopM"===e.nav?Object(c.jsx)(xe,{userVisited:o,userAvatar:l,userRank:j,userLevel:i,userXPMin:u,userXP:d}):Object(c.jsx)(he,{userVisited:o,userAvatar:l,userRank:j,userLevel:i,userXPMin:u,userXP:d})})}function fe(e){return Object(c.jsx)(pe,{nav:"desktopM"})}var ge=a(37),ve=function(){var e=Object(s.useContext)(W);return e.alerts.length>0&&e.alerts.map((function(e){return Object(c.jsxs)("div",{className:"alert alert-".concat(e.type),children:[Object(c.jsx)("i",{className:"fas fa-info-circle"})," ",e.msg]},e.id)}))};function ye(e){var t=Object(s.useContext)(W),a=Object(s.useContext)(I),n=Object(j.f)(),r=t.setAlert,i=a.login,d=a.error,u=a.clearErrors,h=a.isAuthenticated;Object(s.useEffect)((function(){h&&n.push("/"),"Invalid credentials."===d&&(r(d,"danger"),u())}),[d,h,e.history]);var O=Object(s.useState)({email:"",password:""}),x=Object(l.a)(O,2),m=x[0],p=x[1],f=Object(s.useState)(!1),g=Object(l.a)(f,2),v=g[0],y=g[1],N=m.email,w=m.password;Object(s.useEffect)((function(){(0,e.topCall)(0)}),[]);var k=function(e){var t=e.children;return Object(ge.useMediaQuery)({minWidth:768})?t:null},C=function(e){return p(Object(b.a)(Object(b.a)({},m),{},Object(ae.a)({},e.target.name,e.target.value)))};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(k,{children:Object(c.jsx)(fe,{})}),Object(c.jsx)(Q.a,{className:"pt-5 bigScroll",children:Object(c.jsxs)(q.a,{className:"text-center px-5",children:[Object(c.jsx)("h2",{children:"SIGN IN"}),Object(c.jsx)(ve,{}),Object(c.jsxs)(ce.a,{className:"text-left",onSubmit:function(e){e.preventDefault(),""===N||""===w?r("Please fill out all fields.","danger"):(console.log("login submit"),i({email:N,password:w}),y(!0))},children:[Object(c.jsxs)(ce.a.Group,{controlId:"formUserEmail",id:"email",children:[Object(c.jsx)(ce.a.Label,{children:"Email address"}),Object(c.jsx)(ce.a.Control,{placeholder:"Enter Email",type:"email",name:"email",value:N,onChange:C,required:!0}),Object(c.jsx)(ce.a.Text,{className:"text-muted"})]}),Object(c.jsxs)(ce.a.Group,{controlId:"formUserPassword",id:"password",children:[Object(c.jsx)(ce.a.Label,{children:"Password"}),Object(c.jsx)(ce.a.Control,{placeholder:"Password",type:"password",name:"password",value:w,onChange:C,required:!0})]}),Object(c.jsx)(se.a,{variant:"warning",type:"submit",className:"w-100",disabled:v,children:"Submit"})]}),Object(c.jsx)("a",{className:"clearfix",href:"/",children:"Forgot your password?"}),Object(c.jsx)(o.b,{to:"/register",children:Object(c.jsx)(se.a,{variant:"secondary",type:"submit",className:"w-75 mt-4",children:"Don't have an account? Sign up."})})]})})]})}function Ne(e){var t=Object(s.useContext)(W),a=Object(s.useContext)(I),n=Object(j.f)(),r=t.setAlert,i=a.register,d=a.error,u=a.clearErrors,h=a.isAuthenticated;Object(s.useEffect)((function(){h&&n.push("/"),"User already exists."===d&&(r(d,"danger"),u())}),[d,h,e.history]);var O=Object(s.useState)({name:"",email:"",password:"",password2:""}),x=Object(l.a)(O,2),m=x[0],p=x[1],f=Object(s.useState)(!1),g=Object(l.a)(f,2),v=g[0],y=g[1],N=m.name,w=m.email,k=m.password,C=m.password2,S=function(e){return p(Object(b.a)(Object(b.a)({},m),{},Object(ae.a)({},e.target.name,e.target.value)))};Object(s.useEffect)((function(){(0,e.topCall)(0)}),[]);var T=function(e){var t=e.children;return Object(ge.useMediaQuery)({minWidth:768})?t:null};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(T,{children:Object(c.jsx)(fe,{})}),Object(c.jsx)(Q.a,{className:"pt-5 bigScroll",children:Object(c.jsxs)(q.a,{className:"text-center px-5",children:[Object(c.jsx)("h2",{children:"CREATE AN ACCOUNT"}),Object(c.jsx)(ve,{}),Object(c.jsxs)(ce.a,{className:"text-left",onSubmit:function(e){e.preventDefault(),""===N||""===w||""===k?r("Please fill out all fields.","danger"):k!==C?r("Passwords do not match.","danger"):(console.log("register submit"),i({name:N,email:w,password:k}),y(!0))},children:[Object(c.jsxs)(ce.a.Group,{controlId:"formUserName",id:"name",children:[Object(c.jsx)(ce.a.Label,{children:"Name"}),Object(c.jsx)(ce.a.Control,{placeholder:"Enter Name",type:"text",name:"name",value:N,onChange:S,required:!0}),Object(c.jsx)(ce.a.Text,{className:"text-muted"})]}),Object(c.jsxs)(ce.a.Group,{controlId:"formUserEmail",id:"email",children:[Object(c.jsx)(ce.a.Label,{children:"Email address"}),Object(c.jsx)(ce.a.Control,{placeholder:"Enter Email",type:"email",name:"email",value:w,onChange:S,required:!0}),Object(c.jsx)(ce.a.Text,{className:"text-muted"})]}),Object(c.jsxs)(ce.a.Group,{controlId:"formUserPassword",id:"password",children:[Object(c.jsx)(ce.a.Label,{children:"Password"}),Object(c.jsx)(ce.a.Control,{placeholder:"Password",type:"password",name:"password",value:k,onChange:S,minLength:"6",required:!0})]}),Object(c.jsxs)(ce.a.Group,{controlId:"formUserConfirmPassword",id:"passwordConfirm",children:[Object(c.jsx)(ce.a.Label,{children:"Confirm Password"}),Object(c.jsx)(ce.a.Control,{placeholder:"Password",type:"password",name:"password2",value:C,onChange:S,minLength:"6",required:!0})]}),Object(c.jsx)(se.a,{variant:"warning",type:"submit",className:"w-100",disabled:v,children:"CREATE ACCOUNT!"})]}),Object(c.jsx)(o.b,{to:"/login",children:Object(c.jsx)(se.a,{variant:"secondary",type:"submit",className:"w-75 mt-4",children:"Already have an account? Sign in."})})]})})]})}var we=a(285),ke=a(177),Ce=a.n(ke),Se=function(e,t,a,c){return delete y.a.defaults.headers.common["x-auth-token"],y()({method:"GET",url:"https://www.mapquestapi.com/directions/v2/route?key=Har1ZZKjsFe24ZZSfUVi3uIQ0Dy1agEi&from=".concat(e,",").concat(t,"&to=").concat(a,",").concat(c,"+&routeType=pedestrian"),headers:{"Content-Type":"application/x-www-form-urlencoded"}})},Te=function(e){var t,a=e.location,n=(e.id,Object(s.useContext)(d)),r=n.latitude,i=n.longitude,l=a[1],o=a[0];t=r?Ce()({latitude:r,longitude:i},{latitude:l,longitude:o}):0;var j=Object(s.useContext)(u).plotCall,b=null;return Object(c.jsx)(s.Fragment,{children:Object(c.jsx)(je.a,{size:"mini",color:"yellow",content:"  ",icon:"location arrow",label:{basic:!0,color:"yellow",pointing:"left",content:"".concat(t,"m")},onClick:function(){Se(r,i,l,o).then((function(e){console.log("\ud83d\ude80 ~ file: DistanceButton.js ~ line 44 ~ muralsAPI.getDirections ~ directions",e.data),e.data&&(b=e.data.route.legs[0].maneuvers.map((function(e){return[e.startPoint.lng,e.startPoint.lat]})),j(b))}))},className:"ml-1 pl-2 pr-2"})})};function Ie(){var e=Object(s.useContext)(I).isAuthenticated;return Object(c.jsxs)("div",{children:[Object(c.jsxs)(Q.a,{children:[Object(c.jsx)(q.a,{className:"pt-2",children:Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)($.a,{className:"w-100",src:"/assets/images/logo/plogo.png"})})}),e?Object(c.jsx)(Oe,{}):Object(c.jsx)(q.a,{className:"text-right pt-2",children:Object(c.jsx)(o.b,{to:"/login",children:Object(c.jsx)(je.a,{content:"LOGIN",basic:!0})})})]}),Object(c.jsx)(pe,{})]})}var Ee=n.a.createContext({}),Re=function(e){var t=Object(s.useContext)(I).user,a=Object(s.useContext)(ne),n=a.loadUserMurals,r=a.userMurals,i=Object(s.useContext)(Ee).loadVisits;Object(s.useEffect)((function(){o()}),[r]);var o=function(){if(r&&r.data.muralsVisited.filter((function(t){return t.mural.toString()===e.artId})).length>0)return b(!0)},j=Object(s.useState)(!1),d=Object(l.a)(j,2),u=d[0],b=d[1],h=function(){var a=Object(p.a)(m.a.mark((function a(){return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:!1===u?k(e.artId,t.data._id).then((function(){return b(!0)})).then((function(){return n()})).then((function(){return i(e.artId)})):!0===u&&C(e.artId,t.data._id).then((function(){return b(!1)})).then((function(){return n()})).then((function(){return i(e.artId)}));case 1:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return Object(c.jsx)(we.a,{label:"VISITED",onChange:h,checked:u})};function Pe(e){var t=e.muralTotal,a=e.muralID,n=Object(s.useContext)(Ee),r=n.muralVisits,i=n.muralVisitsID;return Object(c.jsx)(c.Fragment,{children:i===a?Object(c.jsx)(je.a,{size:"mini",content:"Visits",icon:"street view",label:{as:"a",basic:!0,pointing:"left",content:r},className:"pl-2 pr-3"}):Object(c.jsx)(je.a,{size:"mini",content:"Visits",icon:"street view",label:{as:"a",basic:!0,pointing:"left",content:t},className:"pl-2 pr-3"})})}var Me=a(128),Fe=function(e){return Object(c.jsxs)(Me.a,Object(b.a)(Object(b.a)({speed:.75,width:600,height:250,viewBox:"0 0 600 250",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},e),{},{children:[Object(c.jsx)("rect",{x:"0",y:"10",rx:"0",ry:"0",width:"1000",height:"150"}),Object(c.jsx)("rect",{x:"0",y:"171",rx:"0",ry:"0",width:"279",height:"17"})]}))},Ae=function(e,t){switch(t.type){case"murals/single":return Object(b.a)(Object(b.a)({},e),{},{muralVisits:t.payload});case"murals/ID":return Object(b.a)(Object(b.a)({},e),{},{muralVisitsID:t.payload});case"load_error":return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});default:return e}},De=function(e){var t=Object(s.useReducer)(Ae,{muralVisits:0,muralVisitsID:null,error:null}),a=Object(l.a)(t,2),n=a[0],r=a[1],i=function(){var e=Object(p.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{w(t).then((function(e){r({type:"murals/single",payload:e.data.data.visits.length}),r({type:"murals/ID",payload:t})}))}catch(a){r({type:"load_error"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsx)(Ee.Provider,{value:{muralVisits:n.muralVisits,muralVisitsID:n.muralVisitsID,loadVisits:i},children:e.children})};function Le(e){var t=Object(s.useContext)(I).isAuthenticated;Object(s.useEffect)((function(){(0,e.topCall)(1)}),[]);var a=function(e){var t=e.children;return Object(ge.useMediaQuery)({minWidth:768})?t:null},n=function(e){var t=e.children;return Object(ge.useMediaQuery)({maxWidth:767})?t:null},r=Object(s.useContext)(f).muralState;return Object(c.jsxs)(De,{children:[Object(c.jsx)(a,{children:Object(c.jsx)(Ie,{})}),Object(c.jsx)(Q.a,{children:r.data?Object(c.jsx)(q.a,{className:"scrollButt",children:r.data.data.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(Q.a,{className:"sideImgBox",children:Object(c.jsx)(q.a,{className:"p-0 parent",children:Object(c.jsx)(o.b,{to:"/murals/"+e.id,children:Object(c.jsx)($.a,{className:"img-fluid w-100 inner",loading:"lazy",src:"../../muralImages/".concat(e.imageFile)})})})}),Object(c.jsx)(n,{children:Object(c.jsx)(Q.a,{className:"mb-4 pt-1 pl-1",children:Object(c.jsxs)(q.a,{className:"ml-0",children:[t?Object(c.jsx)(Re,{artId:e.id}):Object(c.jsx)("div",{"data-tooltip":"Login to track visits","data-position":"right center",children:Object(c.jsx)(we.a,{label:"VISITED",disabled:!0})}),Object(c.jsx)(Te,{location:e.location.coordinates}),Object(c.jsx)(Pe,{muralTotal:e.visits.length,muralID:e.id})]})})}),Object(c.jsx)(a,{children:Object(c.jsx)(Q.a,{className:"mb-4 pt-1 pl-0",children:Object(c.jsxs)(q.a,{className:"ml-0",children:[t?Object(c.jsx)(Re,{artId:e.id}):Object(c.jsx)("div",{"data-tooltip":"Login to track visits","data-position":"right center",className:"float-left",children:Object(c.jsx)(we.a,{label:"VISITED",disabled:!0})}),Object(c.jsx)(Te,{location:e.location.coordinates}),Object(c.jsx)(Pe,{muralTotal:e.visits.length,muralID:e.id})]})})})]},e.id)}))}):Object(c.jsxs)("div",{children:[Object(c.jsx)(Fe,{}),Object(c.jsx)(Fe,{}),Object(c.jsx)(Fe,{}),Object(c.jsx)(Fe,{})]})})]})}var Ve=a(282),Ue=a(100);function ze(e){var t=e.muralPostState;return Object(c.jsx)(Q.a,{className:"pt-2",children:t.data?Object(c.jsx)(q.a,{className:"scrollButt",children:t.data.data.map((function(e){return Object(c.jsxs)("div",{children:[Object(c.jsx)(Q.a,{children:Object(c.jsx)(q.a,{className:"parentRestaurant",children:Object(c.jsx)($.a,{className:"innerRestaurant",src:"/postImages/".concat(e.image),alt:e.text})})}),Object(c.jsx)(Q.a,{className:"pb-3",children:Object(c.jsx)(q.a,{children:Object(c.jsx)("p",{children:e.text})})})]},e.id)}))}):Object(c.jsx)(Fe,{})})}var Be=a(287),Ge=function(){return y.a.get("/api/v1/restaurants")},We=function(e){return y.a.get("/api/v1/restaurants/".concat(e))};function _e(e){var t=Object(s.useState)([]),a=Object(l.a)(t,2),n=a[0],r=a[1],i={lng:e.muralPoint.data.location.coordinates[0],lat:e.muralPoint.data.location.coordinates[1]};return Object(s.useEffect)((function(){Ge().then((function(e){r(e),e&&console.log(n)}))}),[]),Object(c.jsx)(Q.a,{className:"pt-2",children:n.data?Object(c.jsx)(q.a,{className:"scrollButt",children:n.data.data.map((function(e){if(!0===function(e,t,a,c){var s=4e4/360,n=Math.cos(Math.PI*a.lat/180)*s,r=Math.abs(a.lng-e)*n,i=Math.abs(a.lat-t)*s;return Math.sqrt(r*r+i*i)<=c}(e.location.coordinates[0],e.location.coordinates[1],i,.804672))return Object(c.jsxs)("div",{children:[Object(c.jsx)(Q.a,{children:Object(c.jsx)(q.a,{className:"parentRestaurant",children:Object(c.jsx)(o.b,{to:"/restaurants/"+e._id,children:Object(c.jsx)($.a,{className:"innerRestaurant img-fluid w-100",src:"../../restaurantImages/".concat(e.imageFile)})})})}),Object(c.jsxs)(Q.a,{className:"pb-3",children:[Object(c.jsx)(q.a,{className:"text-left",children:Object(c.jsx)("p",{children:e.name})}),Object(c.jsx)(q.a,{className:"text-right",children:Object(c.jsx)(Be.a,{icon:"star",defaultRating:e.rating,maxRating:5,className:"ml-1"})})]})]},e._id)}))}):Object(c.jsx)(Fe,{})})}var He=function(){return y.a.get("/api/v1/auth/me")};function Je(e){var t=Object(s.useState)(""),a=Object(l.a)(t,2),n=a[0],r=a[1],i=Object(s.useState)(null),o=Object(l.a)(i,2),j=o[0],d=o[1];return Object(c.jsxs)(ue.a,Object(b.a)(Object(b.a)({},e),{},{size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[Object(c.jsx)(ue.a.Header,{closeButton:!0,children:Object(c.jsx)(ue.a.Title,{id:"contained-modal-title-vcenter",className:"text-center",children:"Post a photo of yourself at the mural!"})}),Object(c.jsxs)(ue.a.Body,{className:"text-center",children:[Object(c.jsx)(Ue.a,{name:"image",size:"massive",color:"pink"}),Object(c.jsxs)(ce.a,{children:[Object(c.jsxs)(ce.a.Group,{controlId:"formPhotoSubmit",children:[Object(c.jsx)(ce.a.File,{type:"file",name:"file",onChange:function(e){return d(e.target.files[0])}}),Object(c.jsx)(ce.a.Label,{children:"Say something!"}),Object(c.jsx)(ce.a.Control,{type:"text",placeholder:"...",value:n,onChange:function(e){r(e.target.value)}}),Object(c.jsx)(ce.a.Text,{className:"text-muted",children:"You have 150 characters, make them count!"})]}),Object(c.jsx)(se.a,{onClick:function(){var t,a,c,s,r=new FormData;r.append("text",n),r.append("file",j),t=e.singleMuralState.data.data._id,a="multipart/form-data",c=r,s=function(e){return console.log(e)},y()({url:"/api/v1/murals/".concat(t,"/posts"),method:"POST",data:c,headers:{"Content-Type":a}}).then((function(t){s(t.data),e.refreshState()})).catch((function(e){s("error")})),e.onHide()},variant:"warning",children:"Submit"})]})]}),Object(c.jsx)(ue.a.Footer,{})]}))}var Xe=a(129);var Qe=function(e){return Object(c.jsxs)(Me.a,Object(b.a)(Object(b.a)({speed:.75,width:800,height:800,viewBox:"0 0 800 800",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb"},e),{},{children:[Object(c.jsx)("rect",{x:"0",y:"10",rx:"0",ry:"0",width:"1000",height:"450"}),Object(c.jsx)("rect",{x:"0",y:"480",rx:"0",ry:"0",width:"279",height:"20"}),Object(c.jsx)("rect",{x:"0",y:"515",rx:"0",ry:"0",width:"192",height:"20"}),Object(c.jsx)("rect",{x:"0",y:"550",rx:"0",ry:"0",width:"209",height:"20"}),Object(c.jsx)("rect",{x:"0",y:"585",rx:"0",ry:"0",width:"239",height:"20"}),Object(c.jsx)("rect",{x:"150",y:"620",rx:"0",ry:"0",width:"150",height:"30"}),Object(c.jsx)("rect",{x:"310",y:"620",rx:"0",ry:"0",width:"150",height:"30"})]}))};function qe(e){var t=Object(s.useContext)(I),a=t.isAuthenticated,n=t.user,r=t.loadUser,i=Object(j.f)();Object(s.useEffect)((function(){w(b).then((function(e){m(e)})),S(b).then((function(e){v(e)}));(0,e.topCall)(0),z()}),[]);var d=function(e){var t=e.children;return Object(ge.useMediaQuery)({minWidth:768})?t:null},u=function(e){var t=e.children;return Object(ge.useMediaQuery)({maxWidth:767})?t:null},b=Object(j.h)().artId,h=Object(s.useState)([]),O=Object(l.a)(h,2),x=O[0],m=O[1],p=Object(s.useState)([]),f=Object(l.a)(p,2),g=f[0],v=f[1];console.log("\ud83d\ude80 ~ file: MuralContent.js ~ line 49 ~ MuralContent ~ muralPostState",g);var y=function(){S(b).then((function(e){v(e)}))},N=Object(s.useState)(!0),C=Object(l.a)(N,2),T=C[0],E=C[1];var R=Object(s.useState)(!1),P=Object(l.a)(R,2),M=P[0],F=P[1],A=Object(s.useState)(0),D=Object(l.a)(A,2),L=D[0],V=D[1],U=Object(j.g)().search,z=function(){He().then((function(e,t){a&&"?visited=true"===U&&k(b,e.data.data._id).then((function(){return r()}))}))};return Object(c.jsxs)(De,{children:[Object(c.jsx)(d,{children:Object(c.jsx)(fe,{})}),Object(c.jsx)(Q.a,{className:"pt-2 bigScroll",children:x.data?Object(c.jsxs)(q.a,{children:[Object(c.jsx)(u,{children:Object(c.jsxs)(Q.a,{className:"px-3",children:[Object(c.jsx)(q.a,{className:"pb-2",children:Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)(je.a,{content:"Back"})})}),Object(c.jsxs)(q.a,{className:"text-right pb-2",children:[Object(c.jsx)(je.a,{color:"yellow",onClick:function(){a?F(!0):i.push("/login")},children:"Post Photo"}),Object(c.jsx)(Je,{show:M,onHide:function(){return F(!1)},singleMuralState:x,setSingleMuralState:m,refreshState:y})]})]})}),Object(c.jsx)(d,{children:Object(c.jsxs)(Q.a,{children:[Object(c.jsx)(q.a,{className:"pb-2",children:Object(c.jsx)(o.b,{to:"/",children:Object(c.jsx)(je.a,{content:"Back"})})}),Object(c.jsxs)(q.a,{className:"text-right pb-2",children:[Object(c.jsx)(je.a,{color:"yellow",onClick:function(){a?F(!0):i.push("/login")},children:"Post Photo"}),Object(c.jsx)(Je,{show:M,onHide:function(){return F(!1)},singleMuralState:x,setSingleMuralState:m,refreshState:y})]})]})}),Object(c.jsx)(Q.a,{className:"sideImgBox",children:Object(c.jsx)(q.a,{className:"p-0",children:Object(c.jsx)(Xe.a,{options:{settings:{overlayColor:"rgba(255, 105, 180, 0.8)",autoplaySpeed:0,transitionSpeed:900,disableKeyboardControls:!0,disablePanzoom:!1,disableWheelControls:!0},buttons:{showAutoplayButton:!1,showCloseButton:!1,showDownloadButton:!1,showFullscreenButton:!1,showNextButton:!1,showPrevButton:!1,showThumbnailsButton:!1},caption:{captionColor:"#000000",captionFontFamily:"Raleway, sans-serif",captionFontWeight:"300",captionTextTransform:"uppercase"},thumbnails:{showThumbnails:!1}},children:Object(c.jsx)($.a,{className:"img-fluid w-100",src:"../../muralImages/".concat(x.data.data.imageFile),alt:x.data.data.description})})})}),Object(c.jsx)(u,{children:Object(c.jsx)(Q.a,{className:"mb-4 pt-1 pl-1",children:Object(c.jsxs)(q.a,{className:"my-auto",children:[a?Object(c.jsx)(Re,{artId:b,user:n}):Object(c.jsx)("div",{"data-tooltip":"Login to track visits","data-position":"right center",className:"float-left",children:Object(c.jsx)(we.a,{label:"VISITED",disabled:!0})}),Object(c.jsx)(Te,{location:x.data.data.location.coordinates}),Object(c.jsx)(Pe,{muralTotal:x.data.data.visits.length,muralID:x.data.data.id})]})})}),Object(c.jsx)(d,{children:Object(c.jsx)(Q.a,{className:"mb-4 pt-1 pl-0",children:Object(c.jsxs)(q.a,{className:"ml-0",children:[a?Object(c.jsx)(Re,{artId:b,user:n}):Object(c.jsx)("div",{"data-tooltip":"Login to track visits","data-position":"right center",className:"float-left",children:Object(c.jsx)(we.a,{label:"VISITED",disabled:!0})}),Object(c.jsx)(Te,{location:x.data.data.location.coordinates}),Object(c.jsx)(Pe,{muralTotal:x.data.data.visits.length,muralID:x.data.data.id})]})})}),Object(c.jsx)(u,{children:Object(c.jsx)(Q.a,{className:"px-3",children:Object(c.jsxs)(q.a,{children:[Object(c.jsxs)("p",{children:["ARTIST:"," ",x.data.data.artist?x.data.data.artist.name:"No available info"]}),Object(c.jsxs)("p",{children:["TITLE: ",x.data.data.name]}),Object(c.jsxs)("p",{children:["LOCATION: ",x.data.data.address]})]})})}),Object(c.jsx)(d,{children:Object(c.jsx)(Q.a,{children:Object(c.jsxs)(q.a,{children:[Object(c.jsxs)("p",{children:["ARTIST:"," ",x.data.data.artist?x.data.data.artist.name:"No available info"]}),Object(c.jsxs)("p",{children:["TITLE: ",x.data.data.name]}),Object(c.jsxs)("p",{children:["LOCATION: ",x.data.data.address]})]})})}),Object(c.jsx)(Q.a,{className:"h-100 w-100 mx-0",children:Object(c.jsxs)(q.a,{className:"p-0",children:[Object(c.jsxs)(Q.a,{className:"pt-2",children:[Object(c.jsx)(q.a,{className:"pr-1 text-right",children:T?Object(c.jsx)(je.a,{size:"small",color:"yellow",compact:!0,floated:"right",className:"w-75",content:"Locals!"}):Object(c.jsx)(je.a,{size:"small",color:"grey",compact:!0,floated:"right",className:"w-75",content:"Locals!",onClick:function(){V(0)}})}),Object(c.jsx)(q.a,{className:"pl-1 text-left",children:T?Object(c.jsx)(je.a,{size:"small",color:"grey",compact:!0,floated:"left",className:"w-75",content:"Get Food!",onClick:function(){V(1)}}):Object(c.jsx)(je.a,{size:"small",color:"yellow",compact:!0,floated:"left",content:"Get Food!",className:"w-75"})})]}),Object(c.jsxs)(Ve.a,{activeIndex:L,onSelect:function(e,t){V(e)},touch:!0,interval:1e7,wrap:!1,onSlide:function(){E(!T)},nextIcon:Object(c.jsx)(Ue.a,{name:"angle right",size:"huge"}),prevIcon:Object(c.jsx)(Ue.a,{name:"angle left",size:"huge"}),children:[Object(c.jsx)(Ve.a.Item,{children:Object(c.jsx)(ze,{setSingleMuralState:m,singleMuralState:x,muralPostState:g})}),Object(c.jsx)(Ve.a.Item,{children:x.data?Object(c.jsx)(_e,{muralPoint:x.data}):Object(c.jsx)(Qe,{})})]})]})})]}):Object(c.jsx)(Qe,{})})]})}function Ze(){return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{children:Object(c.jsx)(Q.a,{className:"pt-2",children:Object(c.jsxs)(q.a,{children:[Object(c.jsx)(Q.a,{children:Object(c.jsx)(q.a,{className:"parentRestaurant",children:Object(c.jsx)($.a,{className:"innerRestaurant img-fluid w-100",src:"/assets/images/staticUserRest/StaticUserRest-1.jpg"})})}),Object(c.jsx)(Q.a,{className:"pb-3",children:Object(c.jsx)(q.a,{children:Object(c.jsx)("p",{children:"This is a story of a man named Jed. Poor mountaineer hardly kept his family fed. Jelly halvah croissant."})})})]})})}),Object(c.jsx)("div",{children:Object(c.jsx)(Q.a,{className:"pt-2",children:Object(c.jsxs)(q.a,{children:[Object(c.jsx)(Q.a,{children:Object(c.jsx)(q.a,{className:"parentRestaurant",children:Object(c.jsx)($.a,{className:"innerRestaurant img-fluid w-100",src:"/assets/images/staticUserRest/StaticUserRest-4.jpg"})})}),Object(c.jsx)(Q.a,{className:"pb-3",children:Object(c.jsx)(q.a,{children:Object(c.jsx)("p",{children:"This is a story of a man named Jed. Poor mountaineer hardly kept his family fed. Jelly halvah croissant."})})})]})})}),Object(c.jsx)("div",{children:Object(c.jsx)(Q.a,{className:"pt-2",children:Object(c.jsxs)(q.a,{children:[Object(c.jsx)(Q.a,{children:Object(c.jsx)(q.a,{className:"parentRestaurant",children:Object(c.jsx)($.a,{className:"innerRestaurant img-fluid w-100",src:"/assets/images/staticUserRest/StaticUserRest-2.jpg"})})}),Object(c.jsx)(Q.a,{className:"pb-3",children:Object(c.jsx)(q.a,{children:Object(c.jsx)("p",{children:"This is a story of a man named Jed. Poor mountaineer hardly kept his family fed. Jelly halvah croissant."})})})]})})}),Object(c.jsx)("div",{children:Object(c.jsx)(Q.a,{className:"pt-2",children:Object(c.jsxs)(q.a,{children:[Object(c.jsx)(Q.a,{children:Object(c.jsx)(q.a,{className:"parentRestaurant",children:Object(c.jsx)($.a,{className:"innerRestaurant img-fluid w-100",src:"/assets/images/staticUserRest/StaticUserRest-7.jpg"})})}),Object(c.jsx)(Q.a,{className:"pb-3",children:Object(c.jsx)(q.a,{children:Object(c.jsx)("p",{children:"This is a story of a man named Jed. Poor mountaineer hardly kept his family fed. Jelly halvah croissant."})})})]})})}),Object(c.jsx)("div",{children:Object(c.jsx)(Q.a,{className:"pt-2",children:Object(c.jsxs)(q.a,{children:[Object(c.jsx)(Q.a,{children:Object(c.jsx)(q.a,{className:"parentRestaurant",children:Object(c.jsx)($.a,{className:"innerRestaurant img-fluid w-100",src:"/assets/images/staticUserRest/StaticUserRest-9.jpg"})})}),Object(c.jsx)(Q.a,{className:"pb-3",children:Object(c.jsx)(q.a,{children:Object(c.jsx)("p",{children:"This is a story of a man named Jed. Poor mountaineer hardly kept his family fed. Jelly halvah croissant."})})})]})})})]})}function Ye(e){var t=Object(s.useContext)(I).isAuthenticated,a=Object(j.f)(),n=function(e){var t=e.children;return Object(ge.useMediaQuery)({minWidth:768})?t:null},r=function(e){var t=e.children;return Object(ge.useMediaQuery)({maxWidth:767})?t:null};Object(s.useEffect)((function(){(0,e.topCall)(0),We(i).then((function(e){e&&b(e)}))}),[]);var i=Object(j.h)().restId,o=Object(s.useState)([]),d=Object(l.a)(o,2),u=d[0],b=d[1];function h(){a.goBack()}var O=Object(s.useState)(!1),x=Object(l.a)(O,2),m=x[0],p=x[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(n,{children:Object(c.jsx)(fe,{})}),Object(c.jsx)(Q.a,{className:"pt-2 bigScroll",children:u.data?Object(c.jsxs)(q.a,{children:[Object(c.jsx)(r,{children:Object(c.jsxs)(Q.a,{className:"px-3",children:[Object(c.jsx)(q.a,{className:"pb-2",children:Object(c.jsx)(je.a,{content:"Back",onClick:h})}),Object(c.jsxs)(q.a,{className:"text-right pb-2",children:[Object(c.jsx)(je.a,{color:"yellow",onClick:function(){t?p(!0):a.push("/login")},children:"Post Photo"}),Object(c.jsx)(Je,{show:m,onHide:function(){return p(!1)}})]})]})}),Object(c.jsx)(n,{children:Object(c.jsxs)(Q.a,{children:[Object(c.jsx)(q.a,{className:"pb-2",children:Object(c.jsx)(je.a,{content:"Back",onClick:h})}),Object(c.jsxs)(q.a,{className:"text-right pb-2",children:[Object(c.jsx)(je.a,{color:"yellow",onClick:function(){t?p(!0):a.push("/login")},children:"Post Photo"}),Object(c.jsx)(Je,{show:m,onHide:function(){return p(!1)}})]})]})}),Object(c.jsx)(Q.a,{className:"sideImgBox",children:Object(c.jsx)(q.a,{className:"p-0",children:Object(c.jsx)($.a,{className:"img-fluid w-100",src:"../../restaurantImages/".concat(u.data.data.imageFile)})})}),Object(c.jsx)(r,{children:Object(c.jsx)(Q.a,{className:"mb-4 pt-1 pl-1",children:Object(c.jsxs)(q.a,{children:[Object(c.jsx)(Te,{location:u.data.data.location.coordinates}),Object(c.jsx)(Be.a,{icon:"star",defaultRating:u.data.data.rating,maxRating:5,className:"ml-1"})]})})}),Object(c.jsx)(n,{children:Object(c.jsx)(Q.a,{className:"mb-4 pt-1 pl-1",children:Object(c.jsxs)(q.a,{children:[Object(c.jsx)(Te,{location:u.data.data.location.coordinates}),Object(c.jsx)(Be.a,{icon:"star",defaultRating:u.data.data.rating,maxRating:5,className:"ml-1"})]})})}),Object(c.jsx)(r,{children:Object(c.jsx)(Q.a,{className:"px-3",children:Object(c.jsxs)(q.a,{children:[Object(c.jsxs)("p",{children:["RESTAURANT: ",u.data.data.name]}),Object(c.jsxs)("p",{children:["CATEGORY: ",u.data.data.category]}),Object(c.jsxs)("p",{children:["ADDRESS: ",u.data.data.address," "]}),Object(c.jsxs)("p",{children:["PRICE:",u.data.data.price?u.data.data.price:"----"]})]})})}),Object(c.jsx)(n,{children:Object(c.jsx)(Q.a,{children:Object(c.jsxs)(q.a,{children:[Object(c.jsxs)("p",{children:["RESTAURANT: ",u.data.data.name]}),Object(c.jsxs)("p",{children:["CATEGORY: ",u.data.data.category]}),Object(c.jsxs)("p",{children:["ADDRESS: ",u.data.data.address," "]}),Object(c.jsxs)("p",{children:["PRICE:",u.data.data.price?u.data.data.price:"----"]})]})})}),Object(c.jsx)(Q.a,{className:"h-100 w-100 mx-0",children:Object(c.jsx)(q.a,{className:"p-0",children:Object(c.jsx)(Ze,{})})})]}):Object(c.jsx)(Qe,{})})]})}function Ke(){return Object(c.jsx)(pe,{nav:"mobile"})}var $e=a(111),et=function(){var e=Object(s.useContext)(u).plotCall;return Object(c.jsx)(je.a,{circular:!0,color:"pink",icon:"remove",className:"fixed-top ml-2 mt-2 mapClear",onClick:function(){e([[0,0]])},size:"mini"})},tt=function(e,t){switch(t.type){case"game/levelreset":return Object(b.a)(Object(b.a)({},e),{},{progressControl:1,resetState:1,boostState:0});case"game/visits":return Object(b.a)(Object(b.a)({},e),{},{totalVisits:t.payload});case"game/murals":return Object(b.a)(Object(b.a)({},e),{},{userMurals:t.payload});case"game/hitten":return Object(b.a)(Object(b.a)({},e),{},{hitTen:!0});case"game/hittwenty":return Object(b.a)(Object(b.a)({},e),{},{hitTwenty:!0});case"game/hitthirty":return Object(b.a)(Object(b.a)({},e),{},{hitThirty:!0});case"game/hitfifty":return Object(b.a)(Object(b.a)({},e),{},{hitFifty:!0});case"game/hiteighty":return Object(b.a)(Object(b.a)({},e),{},{hitEighty:!0});case"game/hitoneten":return Object(b.a)(Object(b.a)({},e),{},{hitOneTen:!0});case"game/hitonefifty":return Object(b.a)(Object(b.a)({},e),{},{hitOneFifty:!0});case"game/hitonesixtytwo":return Object(b.a)(Object(b.a)({},e),{},{hitOneSixtyTwo:!0});case"modal/progress":return Object(b.a)(Object(b.a)({},e),{},{progressControl:0});case"modal/popup":return Object(b.a)(Object(b.a)({},e),{},{modalShow:!0});case"modal/drop":return Object(b.a)(Object(b.a)({},e),{},{modalShow:!1});case"load_error":return Object(b.a)(Object(b.a)({},e),{},{error:t.payload});default:return e}},at=function(e){var t=Object(s.useReducer)(tt,{progressControl:1,modalShow:!1,resetState:1,boostState:0,userMurals:null,hitTen:!1,hitTwenty:!1,hitThirty:!1,hitFifty:!1,hitEighty:!1,hitOneTen:!1,hitOneFifty:!1,hitOneSixtyTwo:!1,error:null}),a=Object(l.a)(t,2),n=a[0],r=a[1],i=function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("/api/v1/auth/me");case 3:t=e.sent,r({type:"game/murals",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r({type:"load_error"});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),o=function(){console.log("game/levelreset"),r({type:"game/levelreset"})},j=function(){console.log("modal/progress"),r({type:"modal/progress"})},d=function(){console.log("modal/popup"),r({type:"modal/popup"})};return Object(c.jsx)(ne.Provider,{value:{progressControl:n.progressControl,modalShow:n.modalShow,resetState:n.resetState,boostState:n.boostState,userMurals:n.userMurals,hitTen:n.hitTen,hitTwenty:n.hitTwenty,hitThirty:n.hitThirty,hitFifty:n.hitFifty,hitEighty:n.hitEighty,hitOneTen:n.hitOneTen,hitOneFifty:n.hitOneFifty,hitOneSixtyTwo:n.hitOneSixtyTwo,error:n.error,timerXP:function(){o(),j(),d(),console.log("Timer has run")},levelReset:o,modalProg:j,modalPop:d,modalDrop:function(){console.log("modal/drop"),r({type:"modal/drop"})},loadUserMurals:i,markTen:function(){console.log("game/hitten"),r({type:"game/hitten"})},markTwenty:function(){console.log("game/hittwenty"),r({type:"game/hittwenty"})},markThirty:function(){console.log("game/hitthirty"),r({type:"game/hitthirty"})},markFifty:function(){console.log("game/hitfifty"),r({type:"game/hitfifty"})},markEighty:function(){console.log("game/hiteighty"),r({type:"game/hiteighty"})},markOneTen:function(){console.log("game/hitoneten"),r({type:"game/hitoneten"})},markOneFifty:function(){console.log("game/hitonefifty"),r({type:"game/hitonefifty"})},markOneSixtyTwo:function(){console.log("game/hitonesixtytwo"),r({type:"game/hitonesixtytwo"})}},children:e.children})};var ct=function(){var e=Object(s.useContext)(f).loadMurals,t=Object(s.useContext)(I),a=function(e){var t=e.children;return Object(ge.useMediaQuery)({minWidth:768})?t:null},n=function(e){var t=e.children;return Object(ge.useMediaQuery)({maxWidth:767})?t:null},r=Object(j.i)().path,i=Object(s.useState)(!0),o=Object(l.a)(i,2),d=(o[0],o[1]),u=Object(s.useState)(1),b=Object(l.a)(u,2),h=b[0],O=b[1],x=function(e){O(e)},m=window.innerHeight;return Object(s.useEffect)((function(){t.loadUser(),e()}),[]),Object(c.jsx)(at,{children:Object(c.jsxs)(Q.a,{children:[Object(c.jsxs)(q.a,{md:7,className:"mapSpace p-0",children:[Object(c.jsx)(te,{}),Object(c.jsx)(et,{})]}),Object(c.jsxs)(q.a,{md:5,children:[Object(c.jsxs)(n,{children:[Object(c.jsx)(Ke,{}),Object(c.jsx)($e.a,{isOpen:!0,onClose:function(){return d(!1)},snapPoints:[m,250,108],initialSnap:h,className:"sheetZfix",children:Object(c.jsxs)($e.a.Container,{children:[Object(c.jsx)($e.a.Header,{}),Object(c.jsx)($e.a.Content,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/login",children:Object(c.jsx)(ye,{topCall:x})}),Object(c.jsx)(j.a,{path:"/register",children:Object(c.jsx)(Ne,{topCall:x})}),Object(c.jsx)(j.a,{exact:!0,path:r,children:Object(c.jsx)(Le,{topCall:x})}),Object(c.jsx)(j.a,{path:"/murals/:artId",children:Object(c.jsx)(qe,{topCall:x})}),Object(c.jsx)(j.a,{path:"/restaurants/:restId",children:Object(c.jsx)(Ye,{topCall:x})})]})})]})})]}),Object(c.jsx)(a,{children:Object(c.jsxs)(j.c,{children:[Object(c.jsx)(j.a,{path:"/login",children:Object(c.jsx)(ye,{topCall:x})}),Object(c.jsx)(j.a,{path:"/register",children:Object(c.jsx)(Ne,{topCall:x})}),Object(c.jsx)(j.a,{exact:!0,path:r,children:Object(c.jsx)(Le,{topCall:x})}),Object(c.jsx)(j.a,{path:"/murals/:artId",children:Object(c.jsx)(qe,{topCall:x})}),Object(c.jsx)(j.a,{path:"/restaurants/:restId",children:Object(c.jsx)(Ye,{topCall:x})})]})})]})]})})},st=a(40),nt=Object(st.a)(),rt=a(178),it=a(277);function lt(){return Object(c.jsx)(it.a,{className:"h-100 d-flex justify-content-center",children:Object(c.jsx)(Q.a,{className:"text-center mt-5",children:Object(c.jsx)(q.a,{xs:12,className:"mt-0",children:Object(c.jsx)($.a,{src:"../../assets/images/gif/PerspektivScript.gif",alt:"spinning gif",className:"clearfix",width:350})})})})}localStorage.token&&B(localStorage.token);var ot=function(){var e=Object(s.useState)(!0),t=Object(l.a)(e,2),a=t[0],n=t[1];Object(s.useEffect)((function(){setTimeout((function(){return n(!1)}),3e3)}),[]);var r=Object(rt.usePosition)();return Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(G,{children:Object(c.jsx)(X,{children:!1===a?Object(c.jsx)(T,{children:Object(c.jsx)(d.Provider,{value:r,children:Object(c.jsx)(O,{children:Object(c.jsx)(o.a,{history:nt,children:Object(c.jsx)(it.a,{fluid:!0,children:Object(c.jsx)(j.a,{path:"/",component:ct})})})})})}):Object(c.jsx)(lt,{})})})})},jt=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,288)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,r=t.getTTFB;a(e),c(e),s(e),n(e),r(e)}))};a(252),a(253),a(254),a(255);i.a.render(Object(c.jsx)(Xe.b,{children:Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(ot,{})})}),document.getElementById("root")),jt()}},[[256,1,2]]]);
//# sourceMappingURL=main.b735b609.chunk.js.map